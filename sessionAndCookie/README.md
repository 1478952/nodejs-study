## 세션 및 쿠키

### 쿠키란?

사용자가 로그인을 하면 어딘가에 로그인 정보를 저장해서 새로고침을 해서 새 요청이 보내졌을 때도 같은 사용자가 로그인 된 상태라는 정보를 가지고 있어야 함.  
따라서 서버에서 응답과 함께 쿠키를 보내게 됨. 사용자가 로그인 데이터를 제출하면 사용자를 리다이렉트할 뷰 등의 응답 외에도 쿠키를 포함하는 것.
쿠키는 사용자가 인증을 마쳤다는 정보를 저장하고 있음. 이를 브라우저에 저장해 이어지는 요청은 쿠키를 포함하며 쿠키에 저장된 데이터도 같이 보냄.
쿠키는 클라이언트 측에 저장됨.

### 요청 기반 로그인 솔루션 추가하기

### 쿠키 설정하기

### 쿠키 조작하기

### 쿠키 구성하기

### 세션이란?

사용자가 인증되었다는 정보를 프론트엔드가 아닌 세션이라고하는 백엔드에 저장함 동일한 사용자 전용이기 때문에 다른 사용자가 데이터를 열람하거나
역할을 가장할 수 없고 서버에게 인증되었다고 거짓말 할 수 없다. 메모리에 저장하는 것으로 시작하며 이것은 변수에 저장하는 것과 유사함.
세션 저장소인 데이터베이스를 사용한다. 이 때 클라이언트는 서버에게 자신이 소속되어있는 세션을 알려줘야 하는데 최종적으로 세션은 단순히
메모리나 데이터베이스에 저장된 입력값에 불과하기 때문이다. 이 때 세션의 ID(특정 알고리즘으로 해시 처리된)를 쿠키에 저장하여 사용한다.

### 세션 미들웨어 초기화

### 세션 미들웨어 사용하기

### MongoDB를 사용하여 세션 저장하기

### 요약

쿠키는 클라이언트 측 브라우저에 데이터를 저장하는 용도 브라우저에 저장하면 사용자가 볼 수 있기 때문에 민감한 정보를 저장하지 않는다.
각 사용자가 자신의 쿠키만 볼 수 있어 위험하지 않다고 생각할 수 있지만 쿠키는 조작될 수 있음 사용자가 쿠키를 조작해 인증 여부를 조작할 수 없도록 해야함.
헤더를 직접 조작해 쿠키를 설정하는 경우는 거의 없다. 세션 패키지를 통해 구성함.
쿠키가 만료되도록 할 수 있다. 브라우저를 닫으면 디폴트로 만료되는 쿠키를 세션 쿠키라고 부른다. 세션 쿠키는 세션을 식별하기 위해 사용되는 쿠키가 아님!!
세션쿠키는 현재 브라우저의 해당 페이지에 있는 동안 유효하기 때문에 세션쿠키라 부름
만료 날짜나 쿠키가 무효화되는 수명을 설정하는 쿠키는 지속쿠키라 부름. 평생 지속된다는 의미가 아닌 브라우저를 닫을때 사라지지 않는다는 의미
쿠키는 세션과 함께 잘 작동하지만 세션에만 국한되어 있지 않음 트래킹쿠키가 예

세션은 클라이언트가 아닌 서버에 데이터를 저장하는데 사용되며 서버에 있기 때문에 사용자가 보거나 조작할 수 없어 요청간 유지되어야 하는 민감한 데이터를
저장하는데 유용하다. 요청에 데이터를 저장할 수도 있지만 새 요청을 만들때마다 데이터가 리셋되므로 세션을 이용하면 데이터가 존속된다. 세션에는 장바구니 등 어떤것도 할 수 있는데 특히 사용자 인증에 사용된다. 사용자 데이터나 인증여부등이다. 세션은 쿠키를 식별해야한다. 세션쿠키와는 다른 개념 세션을 식별하는데 사용되는 쿠키가 있으며 세션에 저장된 값을 인증하는데 사용되는 쿠키가 있음 데이터베이스에 저장하는 것이 안전하다.

### 쿠키 삭제

### 장바구니에 추가 항목 만들기
